{% extends 'figma-base-1.html' %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Index</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.2.0/chart.min.js">
    <script src="https://unpkg.com/chart.js@2.8.0/dist/Chart.bundle.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js"></script>
    <script src="https://unpkg.com/chart.js@2.8.0/dist/Chart.bundle.js"></script>
    <script src="static/assets/js/chart_js.js" type="text/javascript"></script>
    <script src='https://cdn.plot.ly/plotly-2.18.0.min.js'></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-treemap@0.2.3"></script>

</head>

<style>
.no-outline:focus {
    outline: none;
  }
</style>

<script>
window.onload = function() {
var ctx = document.getElementById('barChart')
var barChart = new Chart(ctx, {
  type: 'bar',
  data: {
    labels: ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten'],
    datasets: [{
      label: 'data-1',
      data: [12, 19, -13, 17, 28, -24, 17, -11, -11, 20],
      backgroundColor: '#88EBFC'
    }, {
      label: 'data-2',
      data: [-30, -29, 15, -25, -20, 13, -10, 15, -12, -22],
      backgroundColor: '#F19C5B'
    },
    {
      label: 'data-3',
      type: 'line',
      data: [12, -19, 25, 15, -22, 23, 14, 20, -22, 12],
      backgroundColor: '#F19C5B',
      lineTension: 0,
      fill: false,
      borderColor: '#88EBFC'
    },
    ]
  },
  options: {
         legend: {
            display: false,
         },
    }
})

var ctx_new1 = document.getElementById('barChart_di')
var barChart = new Chart(ctx_new1, {
  type: 'bar',
  data: {
    labels: ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten'],
    datasets: [{
      label: 'data-1',
      data: [12, 19, -13, 17, 28, -24, 17, 11, -11, 20],
      backgroundColor: '#88EBFC'
    }, {
      label: 'data-2',
      data: [30, -29, 15, 25, -20, 13, 10, 15, -12, 22],
      backgroundColor: '#F19C5B'
    },
    {
      label: 'data-3',
      type: 'line',
      data: [12, -19, 25, 15, -22, 23, 14, 20, -22, 12],
      backgroundColor: '#F19C5B',
      lineTension: 0,
      fill: false,
      borderColor: '#88EBFC'
    },
    ]
  },
  options: {
         legend: {
            display: false,
         },
    }
})

var ctx_new2 = document.getElementById('barChart_ii')
var barChart = new Chart(ctx_new2, {
  type: 'bar',
  data: {
    labels: ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten'],
    datasets: [{
      label: 'data-1',
      data: [12, 19, -13, 17, 28, -24, 17, 11, -11, 20],
      backgroundColor: '#88EBFC'
    }, {
      label: 'data-2',
      data: [30, -29, 15, 25, -20, 13, 10, 15, -12, 22],
      backgroundColor: '#F19C5B'
    },
    {
      label: 'data-3',
      type: 'line',
      data: [12, -19, 25, 15, -22, 23, 14, 20, -22, 12],
      backgroundColor: '#F19C5B',
      lineTension: 0,
      fill: false,
      borderColor: '#88EBFC'
    },
    ]
  },
  options: {
         legend: {
            display: false,
         },
    }
})

var ctx1 = document.getElementById('barChart1')
var barChart1 = new Chart(ctx1, {
  type: 'horizontalBar',
  data: {
    labels: ['one', 'two'],
    datasets: [{
      label: 'Build',
      data: [12, -19],
      backgroundColor: '#88EBFC',
      barThickness: 35
    }, {
      label: 'Run',
      data: [30, -29],
      backgroundColor: '#F19C5B',
      barThickness: 35
    }]
  },
  options: {
         legend: {
            display: true,
            position: 'right'
         },
         scales: {
         xAxes: [{
            stacked: true // this should be set to make the bars stacked
         }],
         yAxes: [{
            stacked: true // this also..
         }]
      }
    }
})

var ctx2 = document.getElementById('barChart3')
var barChart3 = new Chart(ctx2, {
  type: 'pie',
  data: {
    labels: ['Direct Impact', 'People', 'User Equipment', 'Industrial Equipment', 'Data Centres & Network', 'Indirect Impact'],
    datasets: [{
      label: 'data-1',
      data: [12, 19, 30, 20, 10, 12, 8],
      backgroundColor: ["#0074D9", "#FF4136", "#2ECC40", "#FF851B", '#FF6650', '#29C4CB', '#FFFF00'],
      borderWidth:0.5,
    }]
  },
  options: {
         legend: {
            position: 'right'
         }
    },
    elements: {
      arc: {
          borderWidth: 0
      }
  },
})

var ctx4 = document.getElementById('stacked')
var barChart4 = new Chart(ctx4, {
  type: 'bar',
  data: {
    labels: ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten'],
    datasets: [{
      label: 'data-1',
      data: [12, 19, 13, 17, 28, 24, 17, 11, 11, 20],
      backgroundColor: '#F19C5B'
    }, {
      label: 'data-2',
      data: [30, 29, 15, 25, 20, 13, 10, 15, 12, 22],
      backgroundColor: '#649EF8'
    },
    ]
  },
  options: {
      responsive: false,
      legend: {
         display: false
      },
      scales: {
         xAxes: [{
            stacked: true // this should be set to make the bars stacked
         }],
         yAxes: [{
            stacked: true // this also..
         }]
      }
   }

})

var ctx5 = document.getElementById('stacked2')
var barChart5 = new Chart(ctx5, {
  type: 'bar',
  data: {
    labels: ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten'],
    datasets: [{
      label: 'data-1',
      data: [12, 19, 13, 17, 28, 24, 17, 11, 11, 20],
      backgroundColor: '#F19C5B'
    }, {
      label: 'data-2',
      data: [30, 29, 15, 25, 20, 13, 10, 15, 12, 22],
      backgroundColor: '#649EF8'
    },
    ]
  },
  options: {
      responsive: false,
      legend: {
         display: false
      },
      scales: {
         xAxes: [{
            stacked: true // this should be set to make the bars stacked
         }],
         yAxes: [{
            stacked: true // this also..
         }]
      }
   }

})

data_tree = [{
      type: "treemap",
      labels: ["Eve", "Cain", "Seth", "Enos", "Noam", "Abel", "Awan", "Enoch", "Azura"],
      parents: ["", "Eve", "Eve", "Seth", "Seth", "Eve", "Eve", "Awan", "Eve" ]
}]

var layout = {
  autosize: false,
  width: 450,
  height: 300,
  margin: {
    l: 20,
    r: 50,
    b: 100,
    t: 10,
    pad: 4
  },
  paper_bgcolor: 'transparent',
  plot_bgcolor: 'transparent',
};

Plotly.newPlot('Tree', data_tree, layout)


data_tree2 = [{
      type: "treemap",
      labels: ["Eve", "Cain", "Seth", "Enos", "Noam", "Abel", "Awan", "Enoch", "Azura"],
      parents: ["", "Eve", "Eve", "Seth", "Seth", "Eve", "Eve", "Awan", "Eve" ]
}]

var layout2 = {
  autosize: false,
  width: 450,
  height: 300,
  margin: {
    l: 20,
    r: 50,
    b: 100,
    t: 10,
    pad: 4
  },
  paper_bgcolor: 'transparent',
  plot_bgcolor: 'transparent',
};

Plotly.newPlot('Tree2', data_tree2, layout2)


};
</script>
<script>
    function openCity(cityName) {
      console.log('Name is', cityName);
    }


   function showDropdown_draft(id) {
      console.log('Draft Dropdown ID: ' + id);
      document.getElementById('myDropdown_' + id).classList.toggle('show');
   }

   function showDropdown_complete(id) {
      var id = id.replaceAll('complete_', '')
      console.log('Complete Dropdown ID: ' + id);
      document.getElementById('Complete_myDropdown_' + id).classList.toggle('show');
   }

</script>

<script>
    function edit_complete(edit_complete_id){
        var main_div = document.getElementById('main_width');
        var edit_project_popup_div = document.getElementById('edit_project_popup_div');
        console.log('mark_complete_dropdown ID: ' + edit_complete_id)
        main_div.style.opacity = 0.5;
        edit_project_popup_div.style.display = 'block';
    }

    function duplicate_complete(duplicate_complete_id){
        var main_div = document.getElementById('main_width');
        var edit_project_popup_div = document.getElementById('duplicate_project_popup_div');
        console.log('mark_complete_dropdown ID: ' + duplicate_complete_id)
        main_div.style.opacity = 0.5;
        duplicate_project_popup_div.style.display = 'block';
    }

    function delete_complete(delete_complete_id){
        var main_div = document.getElementById('main_width');
        var edit_project_popup_div = document.getElementById('delete_project_popup_div');
        console.log('mark_complete_dropdown ID: ' + delete_complete_id)
        main_div.style.opacity = 0.5;
        delete_project_popup_div.style.display = 'block';
    }


    function edit_take_me_back(){
        var main_div = document.getElementById('main_width');
        var edit_project_popup_div = document.getElementById('edit_project_popup_div');
        main_div.style.opacity = 1;
        edit_project_popup_div.style.display = 'none';
    }

    function duplicate_take_me_back(){
        var main_div = document.getElementById('main_width');
        var edit_project_popup_div = document.getElementById('duplicate_project_popup_div');
        main_div.style.opacity = 1;
        edit_project_popup_div.style.display = 'none';
    }

    function delete_take_me_back(){
        var main_div = document.getElementById('main_width');
        var edit_project_popup_div = document.getElementById('delete_project_popup_div');
        main_div.style.opacity = 1;
        edit_project_popup_div.style.display = 'none';
    }
</script>

<script>
    function openCity(evt, cityName) {
      var i;
      console.log(cityName);
      var x = document.getElementsByClassName('city');
      var nav_button_1 = document.getElementById('nav_button_1');
      var nav_button_2 = document.getElementById('nav_button_2');
      var nav_button_3 = document.getElementById('nav_button_3');
      var direct_impact = document.getElementById('direct_impact');
      var indirect_impact = document.getElementById('indirect_impact');

      console.log(evt)
      console.log(cityName)
      var progress2 = document.querySelector('.progress2')
      if (cityName == 'direct_impact'){
        console.log('Direct Impact');
        direct_impact.style.display = 'block';
        progress2.style.marginLeft = '100px';
        nav_button_2.style.color = '#ADB5BD';
        nav_button_3.style.color = '#6C757D';
        nav_button_1.style.color = '#6C757D';
        nav_button_1.style.borderColor = 'transparent';
        nav_button_2.style.borderColor = 'transparent';
        nav_button_2.style.outline = 'thick solid #121010';
        nav_button_1.style.outline = 'thick solid #121010';

      } else if (cityName == 'indirect_impact'){
        console.log('IN Direct Impact');
        progress2.style.marginLeft = '210px';
        nav_button_3.style.color = '#ADB5BD';
        nav_button_2.style.color = '#6C757D';
        nav_button_1.style.border = 'none';
        nav_button_2.style.border = 'none';
        nav_button_1.style.borderColor = 'transparent';
        nav_button_2.style.borderColor = 'transparent';
        nav_button_2.style.outline = 'none';
        nav_button_2.style.outline = 'thick solid #121010';
        nav_button_1.style.outline = 'thick solid #121010';
      }
      else{
        console.log('Summary')
        progress2.style.marginLeft = '0px';
        nav_button_1.style.color = '#ADB5BD';
        nav_button_2.style.color = '#6C757D';
        nav_button_3.style.color = '#6C757D';
        nav_button_1.style.border = 'none';
        nav_button_2.style.border = 'none';
        nav_button_1.style.borderColor = 'transparent';
        nav_button_2.style.borderColor = 'transparent';
        nav_button_2.style.outline = 'none';
        indirect_impact.style.display = 'block';
        nav_button_3.style.outline = 'thick solid #121010';
        nav_button_1.style.outline = 'thick solid #121010';

      }
      for (i = 0; i < x.length; i++) {
        x[i].style.display = 'none';
      }
      document.getElementById(cityName).style.display = 'block';
    }
</script>

<script>
function mySearchFunction() {
    var input, filter, div, li, a, i, txtValue;
    input = document.getElementById('searchbar_input');
    input_value = input.value;
    filter = input.value.toUpperCase();

    div = document.getElementById('draft_div');
    h2_tags = div.getElementsByTagName('h2');


    console.log(input_value)
    console.log(filter)

    for (i = 1; i < h2_tags.length; i++) {
        txtValue = h2_tags[i].textContent || h2_tags[i].innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
            console.log('Enter if')
            console.log('Value of IF i: ', i)
            document.getElementById('Project '+ i).style.display = '';
        }
        else {
            console.log('Enter else')
            console.log('Value of ELSE i: ', i)
            document.getElementById('Project '+ i).style.display = 'none';
        }
    }
}
</script>
<script>
    function showPop(id) {
        document.getElementById('myDropdown_' + id).classList.toggle('show');
    }
</script>
<script>
    function mark_complete(id) {
        var mark_complete_project_popup_div_draft = document.getElementById('mark_complete_project_popup_div_draft');

        var main_div = document.getElementById('main_width');
        main_div.style.opacity = 0.5;

        mark_complete_project_popup_div_draft.style.display = 'block';

    }

    function duplicate_draft() {
        var duplicate_project_popup_div_draft = document.getElementById('duplicate_project_popup_div_draft');

        var main_div = document.getElementById('main_width');
        main_div.style.opacity = 0.5;

        duplicate_project_popup_div_draft.style.display = 'block';

    }

    function delete_draft() {
        var delete_project_popup_div_draft = document.getElementById('delete_project_popup_div_draft');

        var main_div = document.getElementById('main_width');
        main_div.style.opacity = 0.5;

        delete_project_popup_div_draft.style.display = 'block';

    }

    function edit_take_me_back_draft(){
        var main_div = document.getElementById('main_width');
        var mark_complete_project_popup_div_draft = document.getElementById('mark_complete_project_popup_div_draft');
        main_div.style.opacity = 1;
        mark_complete_project_popup_div_draft.style.display = 'none';
    }

    function duplicate_take_me_back_draft(){
        var main_div = document.getElementById('main_width');
        var duplicate_project_popup_div_draft = document.getElementById('duplicate_project_popup_div_draft');
        main_div.style.opacity = 1;
        duplicate_project_popup_div_draft.style.display = 'none';
    }

    function delete_take_me_back_draft(){
        var main_div = document.getElementById('main_width');
        var delete_project_popup_div_draft = document.getElementById('delete_project_popup_div_draft');
        main_div.style.opacity = 1;
        delete_project_popup_div_draft.style.display = 'none';
    }
</script>
<body >
    <div id="main_width" class="main_width" style="overflow-y:auto; overflow-x:hidden;">
        <div style="padding: 10px; margin-left: 15px;">
            <p style="color: #3D8588; font-size: 12px; font-weight: 500; cursor: pointer;">
                < Back to last page</p>
                    <h3 style="color: white">Consolidated Analysis</h3>
                    <label class="static-font" style="font-size: 14px; color: #6C757D;">Lorem ipsum dolor sit amet,
                        consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna
                        aliqua.</label>
        </div>

        <!-------------------------------Tab Section----------------------->
        <div class="w3-bar static-font" style="margin-left: 30px; margin-top: 7px; font-weight: 400; font-size: 16px; line-height: 20px;">
            <button id="nav_button_1" class="btn  tablink w3-bottombar" onclick="openCity(event, 'Draft');"  style="color: #ADB5BD; border:none; font-size: 14px; background-color:transparent" name="summary" value="0">Summary</button>
            <button id="nav_button_2" class="btn  w3-bottombar" onclick="openCity(event, 'direct_impact');" style="color: #6C757D; border:none; font-size: 14px;  background-color:transparent" name="direct_impact" value="1">Direct Impact</button>
            <button id="nav_button_3" class="btn  w3-bottombar" onclick="openCity(event, 'indirect_impact');" style="color: #6C757D; border:none; font-size: 14px;  background-color:transparent" name="direct_impact" value="1">Indirect Impact</button>
            <div class="progress1" style="margin-top: -5px;">
                <div class="progress2" style="background-color: white;">
                    <hr class="line" size="6" width="100%" color="#6C757D">
                </div>
            </div>
        </div>
            <div id="Draft" class="w3-container city" style="display:block; text-align: center; height: 400px; margin-top: 30px;">
                <div id="summary_buttons" style="display: flex; margin-top: 15px; margin-left: 32px; gap: 5px;">
                    <button style="border-radius: 20px; color: white; width: 70px; font-size: 12px; padding: 5px; border-width: thin; border-color: white; background-color: #3D8588">People</button>
                    <button style="border-radius: 20px; color: white; width: 130px; font-size: 12px; padding: 5px; border-width: thin; border-color: white; background-color: transparent">User Equipment</button>
                    <button style="border-radius: 20px; color: white; width: 150px; font-size: 12px; padding: 5px; border-width: thin; border-color: white; background-color: transparent">Industrial Equipment</button>
                    <button style="border-radius: 20px; color: white; width: 70px; font-size: 12px; padding: 5px; border-width: thin; border-color: white; background-color: transparent">Date</button>
                </div>
                <div style="display: flex; width: 95%; height: 100px; margin-top: 15px; margin-left: 22px; gap: 24px;">
                <div style="width: 50%; height: 11.25rem; border-radius: 5px; background-color: #1A1D23;">
                    <p class="static-font" style="margin-left: 5%; margin-top:2.5%;color: #3D8588; font-size: 16px;">
                        <img src="static/assets/img/Union.svg">&nbsp;&nbsp;&nbsp;Number of Projects
                    </p>
                    <label class="static-font"
                        style="padding-top: 20px; margin-left: 24px; font-weight: 600; color: white; margin-top: -40px; font-size: 72px;">{{ projects_count }}</label>
                </div>
                <div
                    style="position:absolute; width: 22%;margin-top:12rem; height: 8rem; border-radius: 5px; background-color: #1A1D23;">
                    <p class="static-font" style="margin-left: 5%; margin-top:2%;color: #3D8588; font-size: 16px;"><img
                            src="static/assets/img/SavingsCO2.svg">&nbsp;&nbsp;&nbsp;Savings CO2</p>
                    <label class="static-font"
                        style="padding-top: 20px; margin-left: 24px; font-weight: 600; color: white; margin-top: -40px; font-size: 72px;">{{ savco2 }}</label>
                </div>
                <div
                    style="position:absolute; margin-top:12rem; margin-left: 23% ;width: 22%; height: 8rem; border-radius: 5px; background-color: #1A1D23;">
                    <p class="static-font" style="margin-left: 5%; margin-top:2%;color: #3D8588; font-size: 16px;">
                        <img src="static/assets/img/SavingsCO2.svg">&nbsp;&nbsp;&nbsp;% Gain vs Investment
                    </p>
                    <label class="static-font"
                        style="padding-top: 20px; margin-left: 24px; font-weight: 600; color: white; margin-top: -40px; font-size: 72px;">{{ gain }}</label>
                </div>
                <div style="width: 50%; border-radius: 5px; height: 20rem; background-color: #1A1D23;">
                    <p class="static-font" style="margin-left: 5%; margin-top:2.5%; font-size: 16px; color: #3D8588; ">
                        <img src="static/assets/img/Vector300.svg">&nbsp;&nbsp;&nbsp;Status of Project
                    </p>
                    <div style="width: 75%;"><canvas id="status_chart" height="200"></canvas></div>
                    <script>
                        var config = {
                            type: 'pie',
                            data: {
                                datasets: [{
                                    data: {{ counts| safe }},
                                    backgroundColor: ["#0074D9", "#FF4136", "#2ECC40", "#FF851B", "#D3D3D3"],
                                    label: "Projects Count"
                                    }],
                                labels: {{ status_list | safe }}
                            },
                            options: {
                                responsive: true
                            }
                        };

                        window.onload = function () {
                            var ctx = document.getElementById('status_chart').getContext('2d');
                            window.myPie = new Chart(ctx, config);
                        };

                    </script>
                </div>

                <div
                    style="position:absolute; margin-top:21rem; margin-left: 0% ;width: 21.8%; height: 8rem; border-radius: 5px; background-color: #1A1D23;">
                    <p class="static-font" style="margin-left: 5%; margin-top:2%;color: #3D8588; font-size: 16px;">
                        <img src="static/assets/img/directimpact.svg">&nbsp;&nbsp;&nbsp;Direct Impact
                    </p>
                    <label class="static-font"
                        style="padding-top: 20px; margin-left: -10px; font-weight: 600; color: white; margin-top: -40px; font-size: 72px;">{{ dis }}</label>
                </div>
                <div
                    style="position:absolute; margin-top:21rem; margin-left: 23.1% ;width: 22%; height: 8rem; border-radius: 5px; background-color: #1A1D23;">
                    <p class="static-font" style="margin-left: 5%; margin-top:2%;color: #3D8588; font-size: 16px;">
                        <img src="static/assets/img/indirectimpact.svg">&nbsp;&nbsp;&nbsp;Indirect Impact
                    </p>
                    <label class="static-font"
                        style="padding-top: 20px; margin-left: 14px; font-weight: 600; color: white; margin-top: -40px; font-size: 72px;">{{ iis }}</label>
                </div>
                <div
                    style="position:absolute; margin-top:21rem; margin-left: 46.5% ;width: 22.5%; height: 8rem; border-radius: 5px; background-color: #1A1D23;">
                    <p class="static-font" style="margin-left: 5%; margin-top:2%;color: #3D8588; font-size: 16px;">
                        <img src="static/assets/img/SavingsCO2.svg">&nbsp;&nbsp;&nbsp;Net Impact
                    </p>
                    <label class="static-font"
                        style="padding-top: 20px; margin-left: 24px; font-weight: 600; color: white; margin-top: -40px; font-size: 72px;">{{ ni }}</label>
                </div>
                <div
                    style="position:absolute; margin-top:21rem; margin-left: 70% ;width: 22.5%; height: 8rem; border-radius: 5px; background-color: #1A1D23;">
                    <p class="static-font" style="margin-left: 5%; margin-top:2%;color: #3D8588; font-size: 16px;">
                        <img src="static/assets/img/roe.svg">&nbsp;&nbsp;&nbsp;Return on Environment
                    </p>
                    <label class="static-font"
                        style="padding-top: 20px; margin-left: 24px; font-weight: 600; color: white; margin-top: -40px; font-size: 72px;">{{ roe }}</label>
                </div>
                    <div style="position:absolute; width: 95%; height: 100px; margin-top: 25rem; margin-left: 22px; gap: 24px;">
                <div style="margin-top: 100px; float: left;">
                    <h4 style="color: white">Digital Carbon Intensities</h4>
                </div>
                <hr class="line" size="3" width="100%" color="#6C757D">
                <div
                    style="position:absolute; margin-top:0rem; margin-left: -20px; width: 49%; height: 10rem; border-radius: 5px; background-color: #1A1D23;">
                    <p class="static-font" style="margin-left: 12%; margin-top:2%;color: #6C757D; font-size: 16px;">
                        Average tCO2e per Employee</p>
                    <label class="static-font"
                        style="padding-top: 0px; margin-left: 10%; font-weight: 600; color: white; margin-top: 0px; font-size: 72px;">{{ avgco2emp }}</label>
                </div>
                <div style="position:absolute; margin-top:10rem; margin-left: -20px; ;width: 24.5%; height: 5rem; border-radius: 5px; background-color: #1A1D23;border-width: 1px 0.5px 0px 0px;
                border-style: solid;
                border-color: #6C757D;
                border-radius: 0px 0px 0px 8px;">
                    <p class="static-font" style="margin-left: 25%;  color: #6C757D; font-size: 14px;">
                        tCO2e of direct impacts</p>
                    <label class="static-font"
                        style="padding-top: 0px; margin-left: 12%; font-weight: 500; color: white; margin-top: -10px; font-size: 32px;">{{ idcy }}</label>
                </div>
                <div style="position:absolute; margin-top:10rem; margin-left: 22.5% ;width: 24.5%; height: 5rem; border-radius: 5px; background-color: #1A1D23;border-width: 1px 0px 0px 0.5px;
                border-style: solid;
                border-color: #6C757D;
                border-radius: 0px 0px 8px 0px;">
                    <p class="static-font" style=" margin-left: 25%; color: #6C757D; font-size: 14px;">
                        tCO2e of indirect impacts</p>
                    <label class="static-font"
                        style="padding-top: 0px; margin-left: 12%; font-weight: 500; color: white; margin-top: -10px; font-size: 32px;">{{ iidcy }}</label>
                </div>

                <div
                    style="position:absolute; margin-top:0rem; margin-left: 49% ;width: 49%; height: 10rem; border-radius: 5px; background-color: #1A1D23;">
                    <p class="static-font" style="margin-left: 25%; margin-top:2%;color: #6C757D; font-size: 16px;">
                        Average tCO2e per Project</p>
                    <label class="static-font"
                        style="padding-top: 0px; margin-left: 10%; font-weight: 600; color: white; margin-top: 0px; font-size: 72px;">{{ avgco2proj }}</label>
                </div>
                <div style="position:absolute; margin-top:10rem; margin-left: 49% ;width: 24.5%; height: 5rem; border-radius: 5px; background-color: #1A1D23;border-width: 1px 0.5px 0px 0px;
                border-style: solid;
                border-color: #6C757D;
                border-radius: 0px 0px 0px 8px;">
                    <p class="static-font" style="margin-left: 25%; margin-top:2%;color: #6C757D; font-size: 14px;">
                        tCO2e of direct impacts</p>
                    <label class="static-font"
                        style="padding-top: 0px; margin-left: 28%; margin-top: -15px; font-weight: 500; color: white;  font-size: 32px;">{{ avgidemp }}</label>
                </div>
                <div style="position:absolute; margin-top:10rem; margin-left: 73.5% ;width: 24.5%; height: 5rem; border-radius: 5px; background-color: #1A1D23;border-width: 1px 0px 0px 0.5px;
                border-style: solid;
                border-color: #6C757D;
                border-radius: 0px 0px 8px 0px;">
                    <p class="static-font" style="margin-left: 10%; margin-top:2%;color: #6C757D; font-size: 14px;">
                        tCO2e of indirect impacts</p>
                    <label class="static-font"
                        style="padding-top: 0px; margin-left: 25%; font-weight: 500; margin-top: -15px; color: white; font-size: 32px;">{{ avgiidemp }}</label>
                </div>

                <div
                    style="position:absolute; margin-top:17rem; margin-left: -20px; width: 49%; height: 10rem; border-radius: 5px; background-color: #1A1D23;">
                    <p class="static-font" style="margin-left: 22%; margin-top:2%;color: #6C757D; font-size: 16px;">
                        Average tCO2e per mâ‚¬ of Turnover</p>
                    <label class="static-font"
                        style="padding-top: 0px; margin-left: 22%; font-weight: 600; color: white; margin-top: 0px; font-size: 72px;">
                        {{ avgco2turnover }}</label>
                </div>
                <div style="position:absolute; margin-top:27rem; margin-left: -20px; ;width: 24.5%; height: 5rem; border-radius: 5px; background-color: #1A1D23;border-width: 1px 0.5px 0px 0px;
                border-style: solid;
                border-color: #6C757D;
                border-radius: 0px 0px 0px 8px;">
                    <p class="static-font" style="margin-left: 25%; margin-top:2%;color: #6C757D; font-size: 14px;">
                        tCO2e of direct impacts</p>
                    <label class="static-font"
                        style="padding-top: 0px; margin-left: 32%; font-weight: 500; color: white; margin-top: 0px; font-size: 32px;">{{ idcy }}</label>
                </div>
                <div style="position:absolute; margin-top:27rem; margin-left: 22.5% ;width: 24.5%; height: 5rem; border-radius: 5px; background-color: #1A1D23;border-width: 1px 0px 0px 0.5px;
                border-style: solid;
                border-color: #6C757D;
                border-radius: 0px 0px 8px 0px;">
                    <p class="static-font" style="margin-left: 25%; margin-top:2%;color: #6C757D; font-size: 14px;">
                        tCO2e of indirect impacts</p>
                    <label class="static-font"
                        style="padding-top: 0px; margin-left: 32%; font-weight: 500; color: white; margin-top: 0px; font-size: 32px;">{{ iidcy }}</label>
                </div>

                <div style="position:absolute; margin-top: 35rem; width: 95%; ">
                    <h4 style="color: white; float: left">My Global Portfolio</h4>
                    <hr class="line" size="3" width="100%" color="#6C757D">

                    <div
                        style="position:absolute;width: 48.5%; height: 22rem; border-radius: 5px; background-color: #1A1D23;">
                        <p class="static-font"
                            style="margin-left: 5%; margin-top:2.5%;color: #3D8588; font-size: 16px;"><img
                                src="static/assets/img/ce.svg">&nbsp;&nbsp;&nbsp;Cumulative Emissions (last 5 years)</p>
                                <canvas id="mycom" width="400" height="200"></canvas>
                    </div>
                    <script>
                        var ctx = document.getElementById("mycom");
                        var chart = new Chart(ctx, {
                        type: "bar",
                        data: {
                            labels: ["2020/02/17", "", "2020/02/23", "", "2020/02/29", ""],
                            datasets: [
                            {
                                type: "bar",
                                backgroundColor: "rgba(54, 162, 235, 0.2)",
                                borderColor: "rgba(54, 162, 235, 1)",
                                borderWidth: 1,
                                label: "",
                                data: [60, 49, 72, 90, 100, 60]
                            },
                            {
                                type: "bar",
                                backgroundColor: "rgba(54, 162, 235, 0.2)",
                                borderColor: "rgba(54, 162, 235, 1)",
                                borderWidth: 1,
                                label: "",
                                data: [-60, -49, -72, -90, -100, -60]
                            },
                            {
                                type: "line",
                                label: "",
                                data: [25, 13, 30, 35, 25, 40],
                                lineTension: 0,
                                fill: true
                            }
                            ]
                        }
                        });
                    </script>
                    <div
                        style="position:absolute; width: 48.5%;margin-top:0rem;margin-left: 51%; height: 22rem; border-radius: 5px; background-color: #1A1D23;">
                        <p class="static-font" style="margin-left: 5%; margin-top:2%;color: #3D8588; font-size: 16px;">
                            <img src="static/assets/img/ce.svg">&nbsp;&nbsp;&nbsp;Impact of Digital Projects
                        </p>
                        <label class="static-font"
                            style="padding-top: 20px; margin-left: 24px; font-weight: 600; color: white; margin-top: -40px; font-size: 72px;">50</label>
                    </div>
                    <div
                        style="position:absolute; width: 48.5%;margin-top:24rem; height: 22rem; border-radius: 5px; background-color: #1A1D23;">
                        <p class="static-font" style="margin-left: 5%; margin-top:2%;color: #3D8588; font-size: 16px;">
                            <img src="static/assets/img/ce.svg">&nbsp;&nbsp;&nbsp;Impact of my Project Portfolio
                        </p>
                        <label class="static-font"
                            style="padding-top: 20px; margin-left: 24px; font-weight: 600; color: white; margin-top: -40px; font-size: 72px;">50</label>
                    </div>
                    <div
                        style="position:absolute; width: 48.5%;margin-top:24rem; margin-left: 51%;height: 22rem; border-radius: 5px; background-color: #1A1D23;">
                        <p class="static-font" style="margin-left: 5%; margin-top:2%;color: #3D8588; font-size: 16px;">
                            <img src="static/assets/img/ce.svg">&nbsp;&nbsp;&nbsp;Contribution of Digital Transformation
                        </p>
                        <label class="static-font"
                            style="padding-top: 20px; margin-left: 24px; font-weight: 600; color: white; margin-top: -40px; font-size: 72px;">50</label>
                    </div>
                </div>

            </div>
                <div style="padding-bottom: 650px;">
                </div>
            </div>

            <!--Direct impact code-->
            <!--Direct impact code-->
            <div id="direct_impact" class="w3-container city" style="display:none; text-align: center; height: 100px; margin-top: 30px;">
                <div id="summary_buttons21" style="display: flex; margin-top: 15px; margin-left: 32px; gap: 5px;">
                    <button style="border-radius: 20px; color: white; width: 70px; font-size: 12px; padding: 5px; border-width: thin; border-color: white; background-color: #3D8588">People</button>
                    <button style="border-radius: 20px; color: white; width: 130px; font-size: 12px; padding: 5px; border-width: thin; border-color: white; background-color: transparent">User Equipment</button>
                    <button style="border-radius: 20px; color: white; width: 150px; font-size: 12px; padding: 5px; border-width: thin; border-color: white; background-color: transparent">Industrial Equipment</button>
                    <button style="border-radius: 20px; color: white; width: 70px; font-size: 12px; padding: 5px; border-width: thin; border-color: white; background-color: transparent">Date</button>
                </div>
                <div id="draft_div2" style=" margin-top: 30px; display: flex; width: 90%; height: 100px; margin-left: 20px; gap: 8px;">
                    <div style="width: 25%; border-radius: 5px; background-color: #1A1D23;">
                        <p class="static-font" style="padding: 10px; color: #3D8588; font-size: 14px;"><img height="15" width="20" style="margin-right: 6px;" src="static/assets/img/direct_impact_dashboard.png">Direct Impact</p>
                        <label class="static-font" style="padding: 5px; margin-left: 10px; font-weight: 600; color: white; margin-top: -40px; font-size: 36px;">0.044<label style="font-size: 22px; margin-left: 5px;">Units</label></label>
                    </div>
                    <div style="width: 25%; border-radius: 5px; background-color: #1A1D23;">
                        <p class="static-font" style="padding: 10px; font-size: 14px; color: #3D8588; "><img height="15" width="20" style="margin-right: 6px;" src="static/assets/img/direct_impact_dashboard.png">Average Build Phase</p>
                        <label class="static-font" style="padding: 5px; margin-left: 10px; font-weight: 600; color: white; margin-top: -40px; font-size: 36px;">0.044<label style="font-size: 22px; margin-left: 5px;">Units</label></label>
                    </div>
                    <div style="width: 25%; border-radius: 5px; background-color: #1A1D23;">
                        <p class="static-font" style="padding: 10px; font-size: 14px; color: #3D8588; "><img height="15" width="20" style="margin-right: 6px;" src="static/assets/img/direct_impact_dashboard.png">Average Run Phase</p>
                        <label class="static-font" style="padding: 5px; margin-left: 10px; font-weight: 600; color: white; margin-top: -40px; font-size: 36px;">0.044<label style="font-size: 22px; margin-left: 5px;">Units</label></label>
                    </div>
                </div>
                <div style="width: 95%; margin-left: 20px; display: flex; margin-top: 10px; gap: 10px; height: 300px;">
                        <div style="width: 55%; background-color: #1A1D23">
                            <p class="static-font" style="float: left; color: #3D8588; padding: 15px; font-size: 14px;"><img height="15" width="15" style="margin-right: 6px;" src="static/assets/img/impact_of_project_dashboard.png">Direct Impact Break-up by Category</p>
                                    <select name="cars" id="cars2" style=" height: 30px; width: 80px; margin-top: 10px; color: #6C757D; background-color: transparent; font-size: 14px; float: right; margin-right: 20px;">
                                      <option value="volvo">2021</option>
                                      <option value="saab">2022</option>
                                      <option value="mercedes">2023</option>
                                      <option value="audi">2024</option>
                                    </select>
                            <div style="height: 210px; margin-left: 25px; width: 42%; margin-top: 60px; position: absolute; background-color: #23272E;">
                                <canvas id="stacked" height="200" width="430"></canvas>
                            </div>
                        </div>
                        <div style="width: 55%; background-color: #1A1D23">
                            <p class="static-font" style="float: left; color: #3D8588; padding: 15px; font-size: 14px;"><img height="15" width="15" style="margin-right: 6px;" src="static/assets/img/impact_of_project_dashboard.png">Direct Impact Break-up by Category</p>
                                    <select name="cars" id="cars2" style=" height: 30px; width: 80px; margin-top: 10px; color: #6C757D; background-color: transparent; font-size: 14px; float: right; margin-right: 20px;">
                                      <option value="volvo">2021</option>
                                      <option value="saab">2022</option>
                                      <option value="mercedes">2023</option>
                                      <option value="audi">2024</option>
                                    </select>
                            <div style="height: 210px; margin-left: 25px; width: 42%; margin-top: 60px; position: absolute; background-color: #23272E;">
                                <div id="Tree"></div>
                            </div>
                        </div>
                </div>
                    <div style="width: 95%; margin-left: 20px; display: flex; margin-top: 10px; gap: 10px; height: 300px;">
                        <div style="width: 49.5%; background-color: #1A1D23">
                            <p class="static-font" style="float: left; color: #3D8588; padding: 15px; font-size: 14px;"><img height="15" width="15" style="margin-right: 6px;" src="static/assets/img/impact_of_project_dashboard.png">Direct Impact Breakup Over Time</p>
                                    <select name="cars" id="cars2" style=" height: 30px; width: 100px; margin-top: 10px; color: #6C757D; background-color: transparent; font-size: 12px; float: right; margin-right: 20px;">
                                      <option value="volvo">Sub-Category</option>
                                      <option value="saab">Saab</option>
                                      <option value="mercedes">Mercedes</option>
                                      <option value="audi">Audi</option>
                                    </select>
                            <select name="cars" id="cars2" style=" height: 30px; width: 80px; position: absolute; margin-top: 10px; margin-left: -40px; color: #6C757D; background-color: transparent; font-size: 12px; float:left; margin-right: 20px;">
                                      <option value="volvo">Type</option>
                                      <option value="saab">Saab</option>
                                      <option value="mercedes">Mercedes</option>
                                      <option value="audi">Audi</option>
                                    </select>
                            <div style="height: 210px; margin-left: 25px; width: 42%; margin-top: 60px; position: absolute; background-color: #23272E;">
                                <canvas id="barChart_di" height="250" width="500"></canvas>
                            </div>
                        </div>
                    </div>
                <div style="padding-bottom: 100px; width: 100%;">
                </div>
            </div>
            <!--Direct impact code end-->

            <!--Indirect Impact Code-->
            <div id="indirect_impact" class="w3-container city" style="display:none; text-align: center; height: 100px; margin-top: 30px;">
                <div id="summary_buttons2" style="display: flex; margin-top: 15px; margin-left: 32px; gap: 5px;">
                    <button style="border-radius: 20px; color: white; width: 70px; font-size: 12px; padding: 5px; border-width: thin; border-color: white; background-color: #3D8588">People</button>
                    <button style="border-radius: 20px; color: white; width: 130px; font-size: 12px; padding: 5px; border-width: thin; border-color: white; background-color: transparent">User Equipment</button>
                    <button style="border-radius: 20px; color: white; width: 150px; font-size: 12px; padding: 5px; border-width: thin; border-color: white; background-color: transparent">Industrial Equipment</button>
                    <button style="border-radius: 20px; color: white; width: 70px; font-size: 12px; padding: 5px; border-width: thin; border-color: white; background-color: transparent">Date</button>
                </div>
                <div id="draft_div" style=" margin-top: 30px; display: flex; width: 90%; height: 100px; margin-left: 20px; gap: 8px;">
                    <div style="width: 25%; border-radius: 5px; background-color: #1A1D23;">
                        <p class="static-font" style="padding: 10px; color: #3D8588; font-size: 14px;"><img height="15" width="20" style="margin-right: 6px;" src="static/assets/img/indirect_impact_dashboard.png">Indirect Impact</p>
                        <label class="static-font" style="padding: 5px; margin-left: 10px; font-weight: 600; color: white; margin-top: -40px; font-size: 36px;">0.044<label style="font-size: 22px; margin-left: 5px;">Units</label></label>
                    </div>
                    <div style="width: 25%; border-radius: 5px; background-color: #1A1D23;">
                        <p class="static-font" style="padding: 10px; font-size: 14px; color: #3D8588; "><img height="15" width="20" style="margin-right: 6px;" src="static/assets/img/indirect_impact_dashboard.png">Average Indirect Impact</p>
                        <label class="static-font" style="padding: 5px; margin-left: 10px; font-weight: 600; color: white; margin-top: -40px; font-size: 36px;">0.044<label style="font-size: 22px; margin-left: 5px;">Units</label></label>
                    </div>
                </div>
                <div style="width: 95%; margin-left: 20px; display: flex; margin-top: 10px; gap: 10px; height: 300px;">
                        <div style="width: 55%; background-color: #1A1D23">
                            <p class="static-font" style="float: left; color: #3D8588; padding: 15px; font-size: 14px;"><img height="15" width="15" style="margin-right: 6px;" src="static/assets/img/impact_of_project_dashboard.png">Indirect Impact Break-up by Category</p>
                                    <select name="cars" id="cars2" style=" height: 30px; width: 80px; margin-top: 10px; color: #6C757D; background-color: transparent; font-size: 14px; float: right; margin-right: 20px;">
                                      <option value="volvo">2021</option>
                                      <option value="saab">2022</option>
                                      <option value="mercedes">2023</option>
                                      <option value="audi">2024</option>
                                    </select>
                            <div style="height: 210px; margin-left: 25px; width: 42%; margin-top: 60px; position: absolute; background-color: #23272E;">
                                <canvas id="stacked2" height="200" width="430"></canvas>
                            </div>
                        </div>
                        <div style="width: 55%; background-color: #1A1D23">
                            <p class="static-font" style="float: left; color: #3D8588; padding: 15px; font-size: 14px;"><img height="15" width="15" style="margin-right: 6px;" src="static/assets/img/impact_of_project_dashboard.png">Indirect Impact Break-up by Category</p>
                                    <select name="cars" id="cars2" style=" height: 30px; width: 80px; margin-top: 10px; color: #6C757D; background-color: transparent; font-size: 14px; float: right; margin-right: 20px;">
                                      <option value="volvo">2021</option>
                                      <option value="saab">2022</option>
                                      <option value="mercedes">2023</option>
                                      <option value="audi">2024</option>
                                    </select>
                            <div style="height: 210px; margin-left: 25px; width: 42%; margin-top: 60px; position: absolute; background-color: #23272E;">
                                <div id="Tree2"></div>
                            </div>
                        </div>
                </div>
                    <div style="width: 95%; margin-left: 20px; display: flex; margin-top: 10px; gap: 10px; height: 300px;">
                        <div style="width: 49.5%; background-color: #1A1D23">
                            <p class="static-font" style="float: left; color: #3D8588; padding: 15px; font-size: 14px;"><img height="15" width="15" style="margin-right: 6px;" src="static/assets/img/impact_of_project_dashboard.png">Direct Impact Breakup Over Time</p>
                                    <select name="cars" id="cars2" style=" height: 30px; width: 100px; margin-top: 10px; color: #6C757D; background-color: transparent; font-size: 12px; float: right; margin-right: 20px;">
                                      <option value="volvo">Sub-Category</option>
                                      <option value="saab">Saab</option>
                                      <option value="mercedes">Mercedes</option>
                                      <option value="audi">Audi</option>
                                    </select>
                            <select name="cars" id="cars2" style=" height: 30px; width: 80px; position: absolute; margin-top: 10px; margin-left: -40px; color: #6C757D; background-color: transparent; font-size: 12px; float:left; margin-right: 20px;">
                                      <option value="volvo">Type</option>
                                      <option value="saab">Saab</option>
                                      <option value="mercedes">Mercedes</option>
                                      <option value="audi">Audi</option>
                                    </select>
                            <div style="height: 210px; margin-left: 25px; width: 42%; margin-top: 60px; position: absolute; background-color: #23272E;">
                                <canvas id="barChart_ii" height="250" width="500"></canvas>
                            </div>
                        </div>
                    </div>
                <div style="padding-bottom: 100px; width: 100%;">
                </div>
            </div>
            <!--Indirect impact code end-->
    </div>

{% endblock %}
</body>
</html>
